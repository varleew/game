<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>HarnelDice Casino</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –°–±—Ä–æ—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: white;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        #app {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            background: linear-gradient(90deg, rgba(26, 26, 46, 0.95), rgba(22, 33, 62, 0.95));
            padding: 15px 20px;
            border-bottom: 2px solid rgba(233, 69, 96, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .logo-icon {
            color: #e94560;
            font-size: 24px;
        }

        .balance-card {
            background: rgba(15, 52, 96, 0.7);
            border-radius: 16px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .balance-info {
            flex: 1;
        }

        .balance-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 5px;
        }

        .balance-amount {
            font-size: 28px;
            font-weight: 800;
            color: #4ecca3;
        }

        .balance-buttons {
            display: flex;
            gap: 10px;
        }

        .balance-btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .balance-btn:active {
            transform: scale(0.95);
        }

        .btn-deposit {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
        }

        .btn-withdraw {
            background: linear-gradient(135deg, #ffd166, #ffb347);
            color: white;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 20px;
            background: linear-gradient(135deg, rgba(15, 12, 41, 0.9), rgba(48, 43, 99, 0.9));
        }

        /* –°–µ—Ç–∫–∞ –∏–≥—Ä */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .game-card {
            background: linear-gradient(145deg, rgba(108, 92, 231, 0.2), rgba(165, 94, 234, 0.1));
            border-radius: 16px;
            padding: 25px 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .game-card:active {
            transform: scale(0.98);
            border-color: #e94560;
        }

        .game-icon {
            font-size: 42px;
            margin-bottom: 8px;
        }

        .game-name {
            font-size: 17px;
            font-weight: 600;
            color: white;
        }

        .game-multiplier {
            font-size: 14px;
            color: #ffd166;
            font-weight: 600;
        }

        /* –°–æ–æ–±—â–µ–Ω–∏—è */
        .no-funds {
            background: rgba(233, 69, 96, 0.1);
            border-radius: 16px;
            padding: 40px 30px;
            text-align: center;
            margin: 30px 0;
            border: 2px solid rgba(233, 69, 96, 0.3);
        }

        .no-funds-icon {
            font-size: 60px;
            color: #e94560;
            margin-bottom: 20px;
        }

        .no-funds-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            color: white;
        }

        .no-funds-text {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 25px;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 18px 30px;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #4ecca3 0%, #26a69a 100%);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-refresh {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            margin: 10px 0;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            padding: 30px;
            border: 2px solid #e94560;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            color: #e94560;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 25px;
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* –≠–∫—Ä–∞–Ω –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è */
        .deposit-instruction {
            background: rgba(78, 204, 163, 0.1);
            border-radius: 14px;
            padding: 20px;
            margin: 25px 0;
            border: 2px solid rgba(78, 204, 163, 0.3);
        }

        .instruction-step {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .step-number {
            width: 30px;
            height: 30px;
            background: #4ecca3;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        /* –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤ */
        .deposit-history {
            margin-top: 25px;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-amount {
            color: #4ecca3;
            font-weight: 700;
            font-size: 18px;
        }

        .history-status {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
        }

        .status-pending {
            background: rgba(255, 209, 102, 0.2);
            color: #ffd166;
        }

        .status-confirmed {
            background: rgba(78, 204, 163, 0.2);
            color: #4ecca3;
        }

        /* –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .hidden {
            display: none !important;
        }

        /* –§—É—Ç–µ—Ä */
        .footer {
            padding: 20px;
            background: rgba(15, 52, 96, 0.7);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        .footer-link {
            color: #a9b7c6;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è */
        .refresh-animation {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (min-width: 768px) {
            #app {
                max-width: 500px;
                margin: 0 auto;
                height: 90vh;
                margin-top: 5vh;
                border-radius: 20px;
                overflow: hidden;
            }

            .games-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .deposit-options {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-height: 600px) {
            .game-card {
                aspect-ratio: 1.5;
            }

            .content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="logo">
                <span class="logo-icon">üé≤</span>
                HarnelDice Casino
            </div>

            <div class="balance-card">
                <div class="balance-info">
                    <div class="balance-label">
                        <i class="fas fa-coins"></i>
                        –ë–ê–õ–ê–ù–°
                    </div>
                    <div class="balance-amount" id="balanceAmount">0.00 USDT</div>
                </div>

                <div class="balance-buttons">
                    <button class="balance-btn btn-deposit" onclick="showDepositModal()">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="balance-btn btn-withdraw" onclick="showWithdrawModal()">
                        <i class="fas fa-wallet"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="content">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div style="margin-bottom: 25px;">
                <h2 style="font-size: 24px; font-weight: 700; color: #4ecca3; display: flex; align-items: center; gap: 12px;">
                    <i class="fas fa-gamepad"></i>
                    –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É
                </h2>
                <p style="color: rgba(255, 255, 255, 0.7); margin-top: 8px;">
                    –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞: <strong style="color: #ffd166;">0.28 USDT</strong>
                </p>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
            <button class="btn btn-refresh" onclick="updateBalanceFromBot()" id="refreshBtn">
                <i class="fas fa-sync-alt"></i> –û–ë–ù–û–í–ò–¢–¨ –ë–ê–õ–ê–ù–°
            </button>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ —Å—Ä–µ–¥—Å—Ç–≤ -->
            <div id="noFundsMessage" class="no-funds hidden">
                <div class="no-funds-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="no-funds-title">–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤</div>
                <div class="no-funds-text">
                    –î–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ –±–æ—Ç–∞
                </div>
                <button class="btn btn-primary" onclick="showDepositModal()">
                    <i class="fas fa-plus-circle"></i> –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
                </button>
            </div>

            <!-- –°–µ—Ç–∫–∞ –∏–≥—Ä -->
            <div class="games-grid" id="gamesGrid">
                <!-- –ö—É–±–∏–∫ -->
                <div class="game-card" onclick="selectGame('dice')">
                    <div class="game-icon">üé≤</div>
                    <div class="game-name">–ö—É–±–∏–∫</div>
                    <div class="game-multiplier">–í—ã–∏–≥—Ä—ã—à 1.8x</div>
                </div>

                <!-- –ë–∞—Å–∫–µ—Ç–±–æ–ª -->
                <div class="game-card" onclick="selectGame('basketball')">
                    <div class="game-icon">üèÄ</div>
                    <div class="game-name">–ë–∞—Å–∫–µ—Ç–±–æ–ª</div>
                    <div class="game-multiplier">–í—ã–∏–≥—Ä—ã—à 1.8x</div>
                </div>

                <!-- –§—É—Ç–±–æ–ª -->
                <div class="game-card" onclick="selectGame('football')">
                    <div class="game-icon">‚öΩ</div>
                    <div class="game-name">–§—É—Ç–±–æ–ª</div>
                    <div class="game-multiplier">–í—ã–∏–≥—Ä—ã—à 1.8x</div>
                </div>

                <!-- –î–∞—Ä—Ç—Å -->
                <div class="game-card" onclick="selectGame('darts')">
                    <div class="game-icon">üéØ</div>
                    <div class="game-name">–î–∞—Ä—Ç—Å</div>
                    <div class="game-multiplier">–î–æ 2.5x</div>
                </div>

                <!-- –ë–æ—É–ª–∏–Ω–≥ -->
                <div class="game-card" onclick="selectGame('bowling')">
                    <div class="game-icon">üé≥</div>
                    <div class="game-name">–ë–æ—É–ª–∏–Ω–≥</div>
                    <div class="game-multiplier">–í—ã–∏–≥—Ä—ã—à 1.8x</div>
                </div>
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 16px; padding: 20px; margin-top: 30px; border: 1px solid rgba(233, 69, 96, 0.2);">
                <h4 style="color: #ffd166; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-info-circle"></i>
                    –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                </h4>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div style="text-align: center;">
                        <div style="font-size: 12px; color: rgba(255, 255, 255, 0.7); margin-bottom: 5px;">–ú–∏–Ω. —Å—Ç–∞–≤–∫–∞</div>
                        <div style="font-size: 18px; font-weight: 700; color: #4ecca3;">0.28 USDT</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 12px; color: rgba(255, 255, 255, 0.7); margin-bottom: 5px;">–ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç</div>
                        <div style="font-size: 18px; font-weight: 700; color: #e94560;">0.3 USDT</div>
                    </div>
                </div>
            </div>

            <!-- –§—É—Ç–µ—Ä -->
            <div class="footer">
                <div class="footer-links">
                    <a href="#" class="footer-link" onclick="showRulesModal()">
                        <i class="fas fa-book"></i> –ü—Ä–∞–≤–∏–ª–∞
                    </a>
                    <a href="#" class="footer-link" onclick="showSupportModal()">
                        <i class="fas fa-headset"></i> –ü–æ–¥–¥–µ—Ä–∂–∫–∞
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('depositModal')">&times;</span>
            <h3 class="modal-title">
                <i class="fas fa-wallet"></i>
                –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
            </h3>

            <div class="deposit-instruction">
                <div class="instruction-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞" –Ω–∏–∂–µ</strong>
                        <p style="margin-top: 5px; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
                            –ë–æ—Ç –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ Telegram
                        </p>
                    </div>
                </div>

                <div class="instruction-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>–í –±–æ—Ç–µ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /deposit</strong>
                        <p style="margin-top: 5px; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
                            –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–ø–æ–ª–Ω–∏—Ç—å" –≤ –º–µ–Ω—é –±–æ—Ç–∞
                        </p>
                    </div>
                </div>

                <div class="instruction-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ USDT —á–µ—Ä–µ–∑ Telegram Wallet</strong>
                        <p style="margin-top: 5px; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
                            –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–µ—Ç–∏ –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è
                        </p>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 25px 0;">
                <button class="btn btn-success" onclick="openBotForDeposit()">
                    <i class="fas fa-external-link-alt"></i> –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
                </button>
            </div>

            <!-- –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤ -->
            <div class="deposit-history" id="depositHistory" style="display: none;">
                <h4 style="margin-bottom: 15px; color: #ffd166;">
                    <i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤
                </h4>
                <div id="historyList"></div>
            </div>

            <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                <p style="color: #ffd166; font-size: 14px; text-align: center;">
                    <i class="fas fa-info-circle"></i>
                    –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç: <strong>0.3 USDT</strong>. –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ 1 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–µ—Ç–∏.
                </p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∞–≤–∏–ª -->
    <div class="modal" id="rulesModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('rulesModal')">&times;</span>
            <h3 class="modal-title">
                <i class="fas fa-book-open"></i>
                –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä
            </h3>
            <div style="max-height: 60vh; overflow-y: auto; padding-right: 10px;">
                <p style="margin-bottom: 15px; color: rgba(255, 255, 255, 0.9);">
                    <strong>üé≤ –ö—É–±–∏–∫:</strong> –£–≥–∞–¥–∞–π—Ç–µ —á–µ—Ç–Ω–æ–µ/–Ω–µ—á–µ—Ç–Ω–æ–µ - –≤—ã–∏–≥—Ä—ã—à 1.8x<br>
                    <strong>üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª:</strong> –£–≥–∞–¥–∞–π—Ç–µ –ø–æ–ø–∞–¥–µ—Ç/–Ω–µ –ø–æ–ø–∞–¥–µ—Ç - 1.8x<br>
                    <strong>‚öΩ –§—É—Ç–±–æ–ª:</strong> –£–≥–∞–¥–∞–π—Ç–µ –≥–æ–ª/–º–∏–º–æ - 1.8x<br>
                    <strong>üéØ –î–∞—Ä—Ç—Å:</strong> –ü–æ–ø–∞–¥–∏—Ç–µ –≤ –∫—Ä–∞—Å–Ω–æ–µ (1.8x), –±–µ–ª–æ–µ (1.8x) –∏–ª–∏ —Ü–µ–Ω—Ç—Ä (2.5x)<br>
                    <strong>üé≥ –ë–æ—É–ª–∏–Ω–≥:</strong> –£–≥–∞–¥–∞–π—Ç–µ –ø–æ–±–µ–¥—É/–ø—Ä–æ–∏–≥—Ä—ã—à - 1.8x
                </p>
                <div style="background: rgba(233, 69, 96, 0.1); border-radius: 10px; padding: 15px; margin: 15px 0;">
                    <h4 style="color: #ffd166; margin-bottom: 10px;">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è:</h4>
                    <p style="font-size: 14px; line-height: 1.6;">
                        ‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞: <strong>0.28 USDT</strong><br>
                        ‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç: <strong>0.3 USDT</strong><br>
                        ‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥: <strong>10 USDT</strong><br>
                        ‚Ä¢ –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram Wallet
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
    <div class="modal" id="supportModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('supportModal')">&times;</span>
            <h3 class="modal-title">
                <i class="fas fa-headset"></i>
                –ü–æ–¥–¥–µ—Ä–∂–∫–∞
            </h3>
            <div style="text-align: center; padding: 20px 0;">
                <div style="font-size: 60px; margin-bottom: 20px;">üí¨</div>
                <p style="margin-bottom: 15px; font-size: 18px; color: #4ecca3;">
                    –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
                </p>
                <p style="margin-bottom: 10px;">
                    <strong>Telegram:</strong> @harneldice_support
                </p>
                <p style="margin-bottom: 20px;">
                    <strong>Email:</strong> support@harneldice.com
                </p>
                <p style="color: #ffd166; font-size: 14px;">
                    <i class="fas fa-clock"></i> –†–∞–±–æ—Ç–∞–µ–º 24/7
                </p>
            </div>
        </div>
    </div>

    <script>
        // ====== –ö–û–ù–°–¢–ê–ù–¢–´ ======
        const MIN_BET = 0.28;      // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞
        const MIN_DEPOSIT = 0.3;   // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç
        const MIN_WITHDRAWAL = 10; // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
        const WALLET_DEPOSIT_LINK = "http://t.me/send?start=IVrChEJeXaIU";
        const WALLET_WITHDRAW_LINK = "http://t.me/send?start=withdraw_wallet";

        // ====== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ======
        let tg = window.Telegram.WebApp;
        if (tg) {
            tg.expand();
            tg.MainButton.hide();
        }

        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userBalance = 0.00;
        let userId = tg?.initDataUnsafe?.user?.id || 0;
        let pendingDeposits = [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            updateBalanceDisplay();
            checkBalanceForGames();
            updateDepositHistory();
            setupTelegramEvents();
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Telegram
        function setupTelegramEvents() {
            if (!tg) return;
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –±–æ—Ç–∞
            tg.onEvent('message', function(data) {
                try {
                    const message = JSON.parse(data);
                    handleBotMessage(message);
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞:', e);
                }
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserData() {
            try {
                // –ë–∞–ª–∞–Ω—Å –∏–∑ localStorage
                const savedBalance = localStorage.getItem('harneldice_balance');
                if (savedBalance) {
                    userBalance = parseFloat(savedBalance);
                }

                // –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤
                const savedDeposits = localStorage.getItem('harneldice_deposits');
                if (savedDeposits) {
                    pendingDeposits = JSON.parse(savedDeposits);
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', e);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function saveUserData() {
            try {
                localStorage.setItem('harneldice_balance', userBalance.toString());
                localStorage.setItem('harneldice_deposits', JSON.stringify(pendingDeposits));
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', e);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
        function updateBalanceDisplay() {
            document.getElementById('balanceAmount').textContent = userBalance.toFixed(2) + ' USDT';
            saveUserData();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è –∏–≥—Ä
        function checkBalanceForGames() {
            const gamesGrid = document.getElementById('gamesGrid');
            const noFundsMessage = document.getElementById('noFundsMessage');

            if (userBalance < MIN_BET) {
                gamesGrid.classList.add('hidden');
                noFundsMessage.classList.remove('hidden');
            } else {
                gamesGrid.classList.remove('hidden');
                noFundsMessage.classList.add('hidden');
            }
        }

        // ====== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–ê–õ–ê–ù–°–ê –ò–ó –ë–û–¢–ê ======
        async function updateBalanceFromBot() {
            const refreshBtn = document.getElementById('refreshBtn');
            const icon = refreshBtn.querySelector('i');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            icon.classList.add('refresh-animation');
            refreshBtn.disabled = true;
            
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞ –≤ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Web App Data
                const data = {
                    action: 'get_balance',
                    user_id: userId,
                    timestamp: new Date().toISOString()
                };
                
                if (tg && tg.sendData) {
                    tg.sendData(JSON.stringify(data));
                    showNotification('–ó–∞–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –±–æ—Ç—É...');
                } else {
                    // –ï—Å–ª–∏ –Ω–µ—Ç Telegram Web App, –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage
                    await simulateBalanceUpdate();
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞');
            } finally {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                setTimeout(() => {
                    icon.classList.remove('refresh-animation');
                    refreshBtn.disabled = false;
                }, 1000);
            }
        }

        // –°–∏–º—É–ª—è—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ (–¥–ª—è —Ç–µ—Å—Ç–∞)
        async function simulateBalanceUpdate() {
            // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞
            // –î–ª—è –¥–µ–º–æ - —Å–ª—É—á–∞–π–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            const oldBalance = userBalance;
            
            // 30% —à–∞–Ω—Å, —á—Ç–æ –±–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω–∏–ª—Å—è (—Å–∏–º—É–ª—è—Ü–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞)
            if (Math.random() < 0.3 && pendingDeposits.length > 0) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–∂–∏–¥–∞—é—â–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã
                for (let i = 0; i < pendingDeposits.length; i++) {
                    if (pendingDeposits[i].status === 'pending') {
                        // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç
                        pendingDeposits[i].status = 'confirmed';
                        userBalance += pendingDeposits[i].amount;
                        
                        updateBalanceDisplay();
                        checkBalanceForGames();
                        updateDepositHistory();
                        
                        showNotification(`–î–µ–ø–æ–∑–∏—Ç ${pendingDeposits[i].amount} USDT –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!`);
                        break;
                    }
                }
            }
            
            if (userBalance !== oldBalance) {
                showNotification(`–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª–µ–Ω: ${userBalance.toFixed(2)} USDT`);
            } else {
                showNotification('–ë–∞–ª–∞–Ω—Å –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è');
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –±–æ—Ç–∞
        function handleBotMessage(message) {
            const action = message.action;
            
            if (action === 'balance_update') {
                // –ë–æ—Ç –ø—Ä–∏—Å–ª–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å
                const newBalance = parseFloat(message.balance) || 0;
                
                if (newBalance !== userBalance) {
                    userBalance = newBalance;
                    updateBalanceDisplay();
                    checkBalanceForGames();
                    showNotification(`–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª–µ–Ω: ${userBalance.toFixed(2)} USDT`);
                } else {
                    showNotification('–ë–∞–ª–∞–Ω—Å –∞–∫—Ç—É–∞–ª–µ–Ω');
                }
            }
            else if (action === 'deposit_confirmed') {
                // –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –¥–µ–ø–æ–∑–∏—Ç
                const depositId = message.depositId;
                const amount = parseFloat(message.amount) || 0;
                const newBalance = parseFloat(message.newBalance) || 0;
                
                confirmDeposit(depositId, amount);
                userBalance = newBalance;
                
                updateBalanceDisplay();
                checkBalanceForGames();
                updateDepositHistory();
                
                showNotification(`–î–µ–ø–æ–∑–∏—Ç ${amount} USDT –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!`);
            }
            else if (action === 'deposit_request') {
                // –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
                const amount = parseFloat(message.amount) || 0;
                const depositId = addPendingDeposit(amount);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –±–æ—Ç—É
                if (tg && tg.sendData) {
                    tg.sendData(JSON.stringify({
                        action: 'deposit_created',
                        depositId: depositId,
                        amount: amount
                    }));
                }
            }
        }

        // –í—ã–±–æ—Ä –∏–≥—Ä—ã
        function selectGame(gameType) {
            if (userBalance < MIN_BET) {
                showDepositModal();
                return;
            }

            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∏–≥—Ä–µ
            // –î–ª—è –¥–µ–º–æ - –ø—Ä–æ—Å—Ç–æ –∞–ª–µ—Ä—Ç
            alert(`–ò–≥—Ä–∞ "${gameType}" –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ë–∞–ª–∞–Ω—Å: ${userBalance} USDT\n–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å" –ø–æ—Å–ª–µ –¥–µ–ø–æ–∑–∏—Ç–∞.`);
        }

        // ====== –°–ò–°–¢–ï–ú–ê –ü–û–ü–û–õ–ù–ï–ù–ò–Ø ======

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
        function showDepositModal() {
            document.getElementById('depositModal').style.display = 'flex';
            updateDepositHistory();
        }

        // –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
        function openBotForDeposit() {
            // –°—Å—ã–ª–∫–∞ –Ω–∞ Wallet –¥–µ–ø–æ–∑–∏—Ç
            window.open(WALLET_DEPOSIT_LINK, '_blank');
            
            closeModal('depositModal');
            showNotification('–û—Ç–∫—Ä—ã—Ç Telegram Wallet –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è');
            
            // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å
            setTimeout(() => {
                showNotification('–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å"');
            }, 2000);
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–µ–ø–æ–∑–∏—Ç–æ–≤
        function updateDepositHistory() {
            const historyContainer = document.getElementById('depositHistory');
            const historyList = document.getElementById('historyList');

            if (pendingDeposits.length > 0) {
                historyContainer.style.display = 'block';

                let historyHTML = '';
                pendingDeposits.forEach((deposit, index) => {
                    historyHTML += `
                        <div class="history-item">
                            <div>
                                <div class="history-amount">${deposit.amount} USDT</div>
                                <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6);">
                                    ${new Date(deposit.timestamp).toLocaleString()}
                                </div>
                            </div>
                            <div class="history-status ${deposit.status === 'pending' ? 'status-pending' : 'status-confirmed'}">
                                ${deposit.status === 'pending' ? '–û–∂–∏–¥–∞–Ω–∏–µ' : '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ'}
                            </div>
                        </div>
                    `;
                });

                historyList.innerHTML = historyHTML;
            } else {
                historyContainer.style.display = 'none';
            }
        }

        // –î–æ–±–∞–≤–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç –≤ –æ–∂–∏–¥–∞–Ω–∏–µ
        function addPendingDeposit(amount) {
            const deposit = {
                id: Date.now(),
                amount: amount,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };

            pendingDeposits.unshift(deposit);
            saveUserData();
            updateDepositHistory();

            return deposit.id;
        }

        // –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç
        function confirmDeposit(depositId, amount) {
            const deposit = pendingDeposits.find(d => d.id === depositId);
            if (deposit && deposit.status === 'pending') {
                deposit.status = 'confirmed';
                return true;
            }
            return false;
        }

        // ====== –í–´–í–û–î –°–†–ï–î–°–¢–í ======
        function showWithdrawModal() {
            if (userBalance < MIN_WITHDRAWAL) {
                showNotification(`–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞: ${MIN_WITHDRAWAL} USDT`);
                return;
            }

            window.open(WALLET_WITHDRAW_LINK, '_blank');
            showNotification('–û—Ç–∫—Ä—ã—Ç Telegram Wallet –¥–ª—è –≤—ã–≤–æ–¥–∞');
        }

        // ====== –£–¢–ò–õ–ò–¢–´ ======

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 20px;
                right: 20px;
                background: rgba(233, 69, 96, 0.9);
                color: white;
                padding: 15px 20px;
                border-radius: 12px;
                font-weight: 600;
                text-align: center;
                z-index: 9999;
                box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease;
            `;

            notification.textContent = message;
            document.body.appendChild(notification);

            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateY(-100px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞
        function showRulesModal() {
            showModal('rulesModal');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É
        function showSupportModal() {
            showModal('supportModal');
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(() => {
            // –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω
            if (!document.hidden) {
                console.log('–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞...');
                // –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                // updateBalanceFromBot();
            }
        }, 30000);

        // –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ - –æ–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                // –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞–ª–∞ –≤–∏–¥–∏–º–æ–π - –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å
                console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–∞, –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å');
            }
        });
    </script>
</body>
</html>
